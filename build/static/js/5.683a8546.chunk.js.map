{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread.js","components/Caroussel.tsx","components/Details.tsx"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","Caroussel","_ref","media","photos","_useState","useState","_useState2","slicedToArray","setPhotos","_useState3","_useState4","active","setActive","useEffect","map","photo","large","small","onImgClick","index","_ref2","react_default","a","createElement","className","src","alt","onClick","Modal","lazy","__webpack_require__","e","then","bind","animalReducer","currentState","newState","_newState$contact$add","contact","address","city","state","primary","breeds","objectWithoutProperties","Details","_ref$id","id","loading","setLoading","setError","_useContext","useContext","ThemeContext","theme","_useState5","_useState6","showModal","setShowModal","toggleModal","_useReducer","useReducer","url","name","type","description","_useReducer2","_useReducer2$","breed","setState","pet","animal","parseInt","catch","petErr","role","aria-label","Caroussel_Caroussel","style","backgroundColor","navigate"],"mappings":"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","file":"static/js/5.683a8546.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import React, { useState, ReactEventHandler, useEffect } from 'react';\r\nimport { Photo } from '@frontendmasters/pet';\r\n\r\nexport const Caroussel: React.FC<{ photos: Photo[] }> = ({ photos: media }) => {\r\n  const smallDefault = 'http://placecorgi.com/300/300';\r\n  const largeDefault = 'http://placecorgi.com/600/600';\r\n  const [photos, setPhotos] = useState<Photo[]>(media);\r\n  const [active, setActive] = useState<number>(0);\r\n\r\n  useEffect(() => {\r\n    setPhotos(media.map(photo => ({ large: largeDefault, small: smallDefault, ...photo })));\r\n  }, [media]);\r\n\r\n  const onImgClick = (index: number): ReactEventHandler => ({ target }: React.SyntheticEvent) => {\r\n    setActive(index);\r\n  };\r\n\r\n  return (\r\n    <div className='carousel'>\r\n      <img src={photos[active].large} alt='active pet' />\r\n      <div className='carousel-smaller'>\r\n        {photos.map((photo, index) => (\r\n          <img\r\n            key={index}\r\n            src={photo.small}\r\n            alt='small pet'\r\n            className={index === active ? 'active' : ''}\r\n            onClick={onImgClick(index)}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState, useReducer, Dispatch, useContext, lazy } from 'react';\r\nimport pet, { Animal, Address, Breeds } from '@frontendmasters/pet';\r\nimport { Caroussel } from './Caroussel';\r\nimport { ThemeContext } from './ThemeContext';\r\nimport { navigate } from '@reach/router';\r\n// import { Modal } from './Modal';\r\n\r\nconst Modal = lazy(() => import('./Modal'));\r\n\r\ntype DetailsAnimal = Pick<Animal, 'name' | 'type' | 'description' | 'photos' | 'url'> &\r\n  Pick<Address, 'city' | 'state'> &\r\n  Pick<Breeds, 'primary'>;\r\n\r\nconst animalReducer = (currentState: DetailsAnimal, newState: Animal): DetailsAnimal => {\r\n  const {\r\n    contact: {\r\n      address: { city, state },\r\n    },\r\n    breeds: { primary },\r\n    ...restState\r\n  } = newState;\r\n  return { ...currentState, ...restState, city, state, primary };\r\n};\r\n\r\nexport const Details: React.FC<{ path: string; id?: string }> = ({ id = '' }) => {\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [, /*error*/ setError] = useState<Error>();\r\n  const [theme /*, setTheme*/] = useContext<(string | any)[]>(ThemeContext);\r\n\r\n  const [showModal, setShowModal] = useState<boolean>(false);\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n\r\n  const [{ name, type, city, state, description, photos, primary: breed, url }, setState]: [\r\n    DetailsAnimal,\r\n    Dispatch<Animal>\r\n  ] = useReducer(animalReducer, {\r\n    url: '',\r\n    name: '',\r\n    type: '',\r\n    description: '',\r\n    photos: [],\r\n    city: '',\r\n    state: '',\r\n    primary: '',\r\n  });\r\n\r\n  const adopt = () => navigate(url);\r\n\r\n  useEffect(() => {\r\n    pet\r\n      .animal(parseInt(id))\r\n      .then(({ animal }) => {\r\n        setState(animal);\r\n        setLoading(false);\r\n      })\r\n      .catch(petErr => setError(petErr));\r\n  }, [id]);\r\n\r\n  return loading ? (\r\n    <h1>\r\n      <span role='img' aria-label='sand-glass'>\r\n        âŒ›\r\n      </span>\r\n      Loading...\r\n    </h1>\r\n  ) : (\r\n    <div className='details'>\r\n      <Caroussel photos={photos} />\r\n      <div>\r\n        <h1>{name}</h1>\r\n        <h2>{`${type} - ${breed} - ${city}, ${state}`}</h2>\r\n        <button onClick={toggleModal} style={{ backgroundColor: theme }}>{`Adopt ${name}`}</button>\r\n        <p>{description}</p>\r\n        {showModal ? (\r\n          <Modal>\r\n            <div>\r\n              <h1>Would you like to adopt {name} ?</h1>\r\n              <div className='buttons'>\r\n                <button onClick={adopt}>\r\n                  Yes{' '}\r\n                  <span role='img' aria-label='shiny heart'>\r\n                    ðŸ’–\r\n                  </span>\r\n                </button>\r\n                <button onClick={toggleModal}>\r\n                  No{' '}\r\n                  <span role='img' aria-label='broken heart'>\r\n                    ðŸ’”\r\n                  </span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </Modal>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Lazy loading in App requires import of default.\r\nexport default Details;\r\n"],"sourceRoot":""}